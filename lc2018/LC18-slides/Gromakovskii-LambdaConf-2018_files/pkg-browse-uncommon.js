define("modules/clean/avatar/list",["require","exports","tslib","external/classnames","react","external/react-dom-factories","external/prop-types","modules/clean/avatar/overflow_count_pill","modules/clean/avatar/size","modules/clean/react/css"],function(e,t,n,r,a,i,o,s,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r),a=n.__importDefault(a),i=n.__importStar(i),o=n.__importStar(o),s=n.__importDefault(s);var d=a.default.createElement,c=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._defaultRenderOverflowCount=function(e){var n=e.overflowCount;return d(s.default,{count:n,dimension:t.props.avatarDimension,key:"overflow_pill:"+n,onClick:t.props.onOverflowCountClick})},t.getClassName=function(){return r.default(["horizontal-avatar-list",t.props.className,t.props.animation?["animation","is-animated"]:null])},t}return n.__extends(t,e),t.prototype.render=function(){var e=this.props.avatars,t=this.props.maxVisible,n=0;if(this.props.undisplayableCount&&(n+=this.props.undisplayableCount),(this.props.undisplayableCount||e.length>t)&&(t--,n+=e.length-t,e=e.slice(0,t)),n){var a=null!=this.props.overflowCountRenderer?this.props.overflowCountRenderer:this._defaultRenderOverflowCount;e.push(a({overflowCount:n,avatarArgs:{avatarDimension:this.props.avatarDimension,onAvatarClick:this.props.onOverflowCountClick,titleButtonDirection:"south"}}))}return i.div({className:r.default({"c-facepile":!0})},[i.div({className:this.getClassName(),key:"facepile"},e)])},t.displayName="HorizontalAvatarList",t.propTypes={avatars:o.array.isRequired,avatarDimension:o.oneOf(l.VALID_AVATAR_DIMENSIONS).isRequired,maxVisible:o.number.isRequired,undisplayableCount:o.number.isRequired,onOverflowCountClick:o.func,overflowCountRenderer:o.func,animation:o.bool,className:o.string},t.defaultProps={className:""},t})(a.default.Component);t.default=u.requireCssWithComponent(c,["/static/css/avatar_list-vflqHc0nR.css"])}),define("modules/clean/avatar/shared_link_avatar",["require","exports","tslib","react","external/react-dom-factories","external/prop-types","modules/clean/avatar/size","modules/clean/avatar/style","modules/clean/css","modules/clean/static_urls","modules/core/i18n"],function(e,t,n,r,a,i,o,s,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r),a=n.__importStar(a),i=n.__importStar(i),l=n.__importStar(l);var c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.componentDidMount=function(){return l.require_css("/static/css/scooter/scooter-scoped-vflrM1SRf.css")},t.prototype.render=function(){var e=a.img({src:u.static_url("/static/images/avatar/shared-link-icon-vflHCU_m6.svg"),alt:this.props.alt||d._("Shared link"),width:12,className:"u-mar-horizontal-xs"}),t=["c-avatar--meta"];null!=this.props.optionalClass&&t.push(this.props.optionalClass),null!=this.props.onClick&&t.push("u-unbutton");var n=s.getClassName(this.props.dimension,t);return null!=this.props.onClick?a.button({className:n,onClick:this.props.onClick},e):a.div({className:n,onClick:this.props.onClick},e)},t.displayName="SharedLinkAvatar",t.propTypes={alt:i.string,dimension:i.oneOf(o.VALID_AVATAR_DIMENSIONS).isRequired,onClick:i.func,optionalClass:i.string},t})(r.default.Component);t.default=c}),define("modules/clean/base64",["require","exports"],function(e,t){"use strict";function n(e){var t=[],n=0,r=0,a=0,i=0,o=0;for(e+="";n<e.length;)a=e.charCodeAt(n),a<128?(t[r++]=String.fromCharCode(a),n++):a>191&&a<224?(i=e.charCodeAt(n+1),t[r++]=String.fromCharCode((31&a)<<6|63&i),n+=2):(i=e.charCodeAt(n+1),o=e.charCodeAt(n+2),t[r++]=String.fromCharCode((15&a)<<12|(63&i)<<6|63&o),n+=3);return t.join("")}function r(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=void 0,r=void 0,a=void 0,i=void 0,o=void 0,s=void 0,l=void 0,u=void 0,d=0,c=0,_="",m=[];if(!e)return e;for(;;)if(n=e.charCodeAt(d++),r=e.charCodeAt(d++),a=e.charCodeAt(d++),u=n<<16|r<<8|a,i=u>>18&63,o=u>>12&63,s=u>>6&63,l=63&u,m[c++]=t.charAt(i)+t.charAt(o)+t.charAt(s)+t.charAt(l),!(d<e.length))break;_=m.join("");var p=e.length%3;return(p?_.slice(0,p-3):_)+"===".slice(p||3)}function a(e,t){var r=function(e){return e},a=t?r:n;if("function"==typeof window.atob)return a(window.atob(e));var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=0,s=0,l=[];if(!e)return e;for(e+="";;){var u=i.indexOf(e.charAt(o++)),d=i.indexOf(e.charAt(o++)),c=i.indexOf(e.charAt(o++)),_=i.indexOf(e.charAt(o++)),m=u<<18|d<<12|c<<6|_,p=m>>16&255,f=m>>8&255,g=255&m;if(l[s++]=64===c?String.fromCharCode(p):64===_?String.fromCharCode(p,f):String.fromCharCode(p,f,g),!(o<e.length))break}var v=l.join("");return v=a(v)}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=r,t.decode=a}),define("modules/clean/illustration_helper",["require","exports","modules/clean/static_urls"],function(e,t,n){"use strict";function r(e){return n.static_url("/static/images/empty_states/"+e+".png")}Object.defineProperty(t,"__esModule",{value:!0}),t.empty_state_url=r}),define("modules/clean/react/browse/action_logger",["require","exports","tslib","modules/clean/analytics","modules/clean/filepath","modules/clean/react/browse/logger_util","modules/clean/search/search_bar/data/store","modules/clean/search/search_bar/data/selectors","modules/clean/web_user_action_events","modules/clean/analytics","modules/clean/logging/hive/schemas/web-user-action","modules/clean/logging/telemetry"],function(e,t,n,r,a,i,o,s,l,u,d,c){"use strict";function _(e,r,o,s,l,u,c){var _={num_files_selected:s,num_folders_selected:l,source:r,view_type:u};if(i.isFile(c)){var m=c,p=m.request_id,f=m.ns_id,g=m.sjid,v=m.file_id,h=m.fq_path,E=m.bytes,b=m.ext;_=n.__assign({},_,{request_id:p,file_nsid:f,file_sjid:g,file_id:v,file_name:a.filename(h),file_path:h,file_size:E,file_extension:b})}else if(i.isPaper(c)){var m=c,p=m.request_id;_=n.__assign({},_,{request_id:p})}t.hiveLogger.log(new d.WebUserActionRow({user_id:e,event_name:o,source:r,view_type:u,request_id:_.request_id,file_nsid:_.file_nsid,file_sjid:_.file_sjid,file_id:_.file_id,file_name:_.file_name,file_path:_.file_path,file_size:_.file_size,file_extension:_.file_extension,extra:{num_files_selected:_.num_files_selected?_.num_files_selected.toString():null,num_folders_selected:_.num_folders_selected?_.num_folders_selected.toString():null}}))}function m(e){var n=e.uid,r=e.entity_type,a=e.view_type,i=e.file_nsid,o=e.file_sjid,s=e.file_id,u=e.file_name,c=e.file_path,_=e.file_size,m=e.file_extension,p=e.request_id;t.hiveLogger.log(new d.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.SELECT_ROW,view_type:a,file_nsid:i,file_sjid:o,file_id:s,file_name:u,file_path:c,file_size:_,file_extension:m,request_id:p,extra:{entity_type:r}}))}function p(e){var n=e.uid,r=e.entity_type,a=e.source,i=e.view_type,o=e.file_nsid,s=e.file_sjid,u=e.file_id,c=e.file_name,_=e.file_path,m=e.file_size,p=e.file_extension,f=e.request_id;t.hiveLogger.log(new d.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.OPEN_ROW,source:a,view_type:i,file_nsid:o,file_sjid:s,file_id:u,file_name:c,file_path:_,file_size:m,file_extension:p,request_id:f,extra:{entity_type:r}}))}function f(e){var n=e.uid,r=e.view_type;e.file_nsid,e.file_path,e.file_name;t.hiveLogger.log(new d.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.CREATE_FOLDER,view_type:r}))}function g(){t.hiveLogger.log(new d.WebUserActionRow({event_name:l.WebUserActionLogEvent.CREATE_FOLDER_ERROR}))}function v(){t.hiveLogger.log(new d.WebUserActionRow({event_name:l.WebUserActionLogEvent.CREATE_FOLDER_CANCEL}))}function h(){t.hiveLogger.log(new d.WebUserActionRow({event_name:l.WebUserActionLogEvent.CREATE_FOLDER_PENDING}))}function E(){t.hiveLogger.log(new d.WebUserActionRow({event_name:l.WebUserActionLogEvent.CREATE_FOLDER_SUCCESS}))}function b(e){var n=e.uid,r=e.modal_session_id,a=e.file_nsid,i=e.file_sjid,o=e.file_id,s=e.file_name,u=e.file_path;t.hiveLogger.log(new d.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.VIEW_SHARE_MODEL,file_nsid:a,file_sjid:i,file_id:o,file_name:s,file_path:u,extra:{modal_session_id:r}}))}function D(e){var n=e.uid,r=e.show_deleted_files,a=e.view_type;t.hiveLogger.log(new d.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.TOGGLE_DELETED_FILES,view_type:a,extra:{show_deleted_files:r.toString()}}))}function C(e){var n=e.uid,r=e.sort_by,a=e.sort_direction,i=e.view_type;t.hiveLogger.log(new d.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.SORT_RECORDS,view_type:i,extra:{sort_by:r,sort_direction:a}}))}function w(e){var n=e.uid,r=e.isSearchMode,a=e.viewType;t.hiveLogger.log(new d.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.SWITCH_VIEW_TYPE,view_type:a})),r&&u.SearchClientActivityLogger.log("switch_view_type",n,{search_session_id:s.searchSessionId(o.getStoreForSearchBar().getState()),view_type:a})}function A(e){var n=e.uid,r=e.source,a=e.view_type,i=e.file_nsid,o=e.file_path,s=e.file_name,u=e.num_files_selected,c=e.num_folders_selected;t.hiveLogger.log(new d.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.RESTORE,source:r,view_type:a,file_nsid:i,file_path:o,file_name:s,extra:{num_files_selected:u?u.toString():null,num_folders_selected:c?c.toString():null}}))}function S(e){var n=e.uid,r=e.event_name,a=e.selectedPath;t.hiveLogger.log(new d.WebUserActionRow({user_id:n,event_name:r,extra:a?{selectedPath:a}:{}}))}function L(e){var t=e.error_message,n=e.event_name,a=e.team_id,i=e.url;r.TeamsWebActionsLogger.log(n,{team_id:a,url:i,error_message:t})}function O(e){var t=e.uid,n=e.source,r=e.view_type,a=e.result,i=e.num_files_selected,o=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.MOVE,i,o,r,a)}function I(e){var t=e.uid,n=e.source,r=e.view_type,a=e.result,i=e.num_files_selected,o=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.OPEN_ADD_TO_COLLECTION_MODAL,i,o,r,a)}function y(e){var t=e.uid,n=e.source,r=e.view_type,a=e.result,i=e.num_files_selected,o=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.COPY,i,o,r,a)}function N(e){var t=e.uid,n=e.source,r=e.view_type,a=e.num_files_selected,i=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.VERSIONS,a,i,r)}function T(e){var t=e.uid,n=e.source,r=e.view_type,a=e.num_files_selected,i=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.OPEN_MOVE_MODAL,a,i,r)}function P(e){var t=e.uid,n=e.source,r=e.view_type,a=e.num_files_selected,i=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.RENAME,a,i,r)}function M(e){var t=e.uid,n=e.source,r=e.view_type,a=e.num_files_selected,i=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.ADD_COMMENT,a,i,r)}function R(e){var t=e.uid,n=e.source,r=e.view_type,a=e.num_files_selected,i=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.DOWNLOAD,a,i,r)}function U(e){var t=e.uid,n=e.source,r=e.view_type,a=e.num_files_selected,i=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.OPEN_COPY_MODAL,a,i,r)}function k(e){var t=e.uid,n=e.source,r=e.view_type,a=e.num_files_selected,i=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.DELETE,a,i,r)}function x(e){var t=e.uid,n=e.source,r=e.view_type,a=e.num_files_selected,i=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.PERMANENT_DELETE,a,i,r)}function F(e){var n=e.uid,r=e.file_name,a=e.upload_id,i=e.all_fsw_ids,o=e.filtered_fsw_ids;t.hiveLogger.log(new d.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.FILE_UPLOAD_FSW_RETURNED,file_name:r,upload_id:a,all_fsw_ids:i,filtered_fsw_ids:o}))}function B(e){var n=e.uid,r=e.source,a=e.action,i=e.depth_folder_selected;t.hiveLogger.log(new d.WebUserActionRow({user_id:n,source:r,event_name:a,extra:{depth_folder_selected:i?i.toString():null}}))}Object.defineProperty(t,"__esModule",{value:!0}),a=n.__importStar(a),s=n.__importStar(s),c=n.__importStar(c);(function(e){e.MAESTRO_RIGHT_SIDEBAR="MAESTRO_RIGHT_SIDEBAR",e.MAESTRO_PHOTOS_RIGHT_SIDEBAR="MAESTRO_PHOTOS_RIGHT_SIDEBAR",e.LEGACY_HEADER_ACTIONS="LEGACY_HEADER_ACTIONS",e.DRAG="DRAG"})(t.BrowseLogEventSource||(t.BrowseLogEventSource={})),t.hiveLogger=new c.HiveLogger,t.logBrowseAction=_,t.logSelectRow=m,t.logOpenRow=p,t.logCreateFolder=f,t.logCreateFolderError=g,t.logCreateFolderCancel=v,t.logCreateFolderPending=h,t.logCreateFolderSuccess=E,t.logViewShareModal=b,t.logToggleDeletedFiles=D,t.logSortRecords=C,t.logSwitchViewType=w,t.logRestore=A,t.logFileOperationModalClick=S,t.logOpenLocalCopyAction=L,t.logMoveFiles=O,t.logOpenAddToCollectionModal=I,t.logCopyFiles=y,t.logVersions=N,t.logOpenMoveModal=T,t.logRenameFiles=P,t.logAddComment=M,t.logDownload=R,t.logOpenCopyModal=U,t.logDeleteFiles=k,t.logPermanentDeleteFiles=x,t.logFileUploadFSWReturned=F,t.logFileCreateClick=B}),define("modules/clean/react/folder_dialog/constants",["require","exports","modules/core/i18n"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_SCOPE="folder_picker_keyboard_selection",t.INVALID_FOCUS_INDEX=-1,t.MAX_FOLDER_NAME_LENGTH=20,t.TEAM_MEMBER="team_member";(function(e){e[e.ACCESS=0]="ACCESS",e.LIMITED_ACCESS="locked",e.NO_ACCESS="no_access"})(t.ACCESS_LEVEL||(t.ACCESS_LEVEL={}));(function(e){e[e.COPY=0]="COPY",e[e.MOVE=1]="MOVE",e[e.UPLOAD=2]="UPLOAD"})(t.Operation||(t.Operation={}));(function(e){e[e.LOADING=0]="LOADING",e[e.ERROR=1]="ERROR",e[e.LOADED=2]="LOADED"})(t.FolderPickerLoadingState||(t.FolderPickerLoadingState={})),t.errorDialogProps={primaryAction:n._("Try again"),secondaryAction:n._("Cancel"),title:n._("Something went wrong on our end"),ariaLabel:"",open:!0,variant:"regular"},t.DIALOG_HEAD_HEIGHT=64,t.DIALOG_ACTIONS_HEIGHT=64,t.PATH_BREADCRUMB_HEIGHT=40,t.DIALOG_BODY_PADDING=26,t.LOADING_MIN_TIME=200,t.FOLDER_SUGGESTION_HEIGHT=89}),define("modules/clean/react/path_breadcrumbs",["require","exports","tslib","external/classnames","react","spectrum/icon_arrow","spectrum/icon_content","spectrum/popover","modules/clean/em_string","modules/clean/filepath","modules/core/i18n","modules/clean/user_education/react/user_education_effect","modules/clean/user_education/user_education_client","modules/clean/react/icon/icon_helper","modules/clean/react/title_bubble","modules/clean/react/search_success_banner/util"],function(e,t,n,r,a,i,o,s,l,u,d,c,_,m,p,f){"use strict";function g(e,t){return 20-(t?2.625:new l.Emstring(e).length)}function v(e,t,n,r){for(var a=e.split("/").filter(Boolean),i=[{path:"",icon:"folder_dropbox-small",folderName:t,alt:n}],o=m.spectrumFolderIcon({size:m.SpectrumIconSize.Small}),s=0;s<a.length;s++)e="/"+a.slice(0,s+1).join("/"),i.push({path:e,folderName:u.filename(e),icon:o,alt:d._("Folder")});if(i.length<3)return{dropdownCrumbs:[],inlineCrumbs:i,root:i[0]};for(var c=i[0]&&i[0].folderName||"",_=g(c,!1),p=i.map(function(e){return new l.Emstring(e.folderName||"").length}),f=1,v=p[i.length-1],s=i.length-2;s>=1&&(v+=1.64,v+=p[s],!(v>_));s--)f+=1;i.length===f+1&&(f+=1),1===f&&r===E.SMALL&&f++;var h=i.length-f;return{dropdownCrumbs:i.slice(0,h),inlineCrumbs:i.slice(h),root:i[0]}}function h(e){switch(e){case E.LARGE:return"right";case E.SMALL:return"right-small"}}Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r),a=n.__importDefault(a),u=n.__importStar(u);t.generateBreadcrumbData=v;var E;(function(e){e.LARGE="LARGE",e.SMALL="SMALL"})(E=t.PathBreadcrumbsSize||(t.PathBreadcrumbsSize={}));var b=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e=this.props.path,t=this.props,i=t.firstBreadcrumbName,o=t.firstBreadcrumbAlt,s=t.isDraggingInternalFiles,l=t.shouldHighlightDropTargets,_=t.setFileUploaderPath,m=t.getUrlForPath,p=t.setUrl,f=t.size,h=t.disableDragging,b=v(e,i,o,f),C=b.dropdownCrumbs,A=b.inlineCrumbs,S=b.root,L=g(S&&S.folderName||"",C.length>0),O=r.default({"brws-path-breadrumbs":!0,"brws-path-breadrumbs--small":this.props.size===E.SMALL}),I="page-header-text u-l-fl";return A.length>1||C.length>0?a.default.createElement("span",{className:O},a.default.createElement("h1",{className:"ax-visually-hidden"},u.filename(e)),a.default.createElement("nav",{className:I,id:"path-breadcrumbs","aria-label":d._("Folder hierarchy"),role:"navigation"},C.length>0&&a.default.createElement(w,{crumbs:C,currentPath:e,isDraggingInternalFiles:s,shouldHighlightDropTargets:l,setFileUploaderPath:_,setUrl:p,size:f,disableDragging:h}),A.map(function(t,r){return a.default.createElement(D,n.__assign({},t,{key:encodeURI(t.path),isOnlyCrumb:0===r&&1===A.length&&0===C.length,index:r,isLastCrumb:r===A.length-1,maxWidth:L,currentPath:e,isDraggingInternalFiles:s,isHighlightedDropTarget:l,setFileUploaderPath:_,getUrlForPath:m,setUrl:p,size:f,disableDragging:h}))}))):a.default.createElement("span",{className:O},a.default.createElement("h1",{className:I},a.default.createElement(c.UserEducationEffect,{containerName:"PathBreadcrumbs",name:"HomeTitle",useSpan:!0},i)))},t.defaultProps={path:"/",isDraggingInternalFiles:!1,shouldHighlightDropTargets:!1,setFileUploaderPath:function(){},size:E.LARGE,disableDragging:!1},t})(a.default.PureComponent);t.PathBreadcrumbs=b;var D=(function(e){function t(t){var n=e.call(this,t)||this;return n.onDragEnterBreadcrumb=function(e){e.preventDefault(),e.target!==n.lastEnteredElement&&(n.props.disableDragging||(n.lastEnteredElement=e.target,n.dragEnterCount+=1,n.setState({isDraggedOver:!0}),n.props.isLastCrumb||n.props.setFileUploaderPath({path:n.props.path})))},n.onDragLeaveBreadcrumb=function(e){e.preventDefault(),n.props.disableDragging||(n.lastEnteredElement=null,n.dragEnterCount-=1,n.dragEnterCount<1&&(n.dragEnterCount=0,n.state.isDraggedOver&&(n.props.setFileUploaderPath({path:n.props.currentPath}),n.setState({isDraggedOver:!1}))))},n.onDropBreadcrumb=function(){n.setState({isDraggedOver:!1})},n.onDragOverBreadcrumb=function(e){e.preventDefault(),e.stopPropagation()},n.handleMouseEnter=function(){n.props.isDraggingInternalFiles&&n.setState({isDraggedOver:!0})},n.handleMouseLeave=function(){n.state.isDraggedOver&&n.setState({isDraggedOver:!1})},n.handleMouseUp=function(){n.state.isDraggedOver&&n.setState({isDraggedOver:!1})},n.navigateToFolder=function(e){f.resetSearchSuccessBannerSettings();var t=n.props.path;_.UEClient.sendEvent("BreadCrumbSegment","linkClicked",{path:t}),e.preventDefault(),n.props.setUrl({path:t})},n.eventHandlers={onDragEnter:n.onDragEnterBreadcrumb,onDragLeave:n.onDragLeaveBreadcrumb,onDrop:n.onDropBreadcrumb,onDragOver:n.onDragOverBreadcrumb,onMouseEnter:n.handleMouseEnter,onMouseLeave:n.handleMouseLeave,onMouseUp:n.handleMouseUp},n.state={isDraggedOver:!1},n}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.dragEnterCount=0,this.lastEnteredElement=null},t.prototype.render=function(){var e,t=this.props,o=t.getUrlForPath,s=t.path,u=t.index,d=t.isOnlyCrumb,_=t.maxWidth,m=t.isLastCrumb,f=t.isHighlightedDropTarget,g=t.size,v=d?this.props.folderName:l.Emstring.em_snippet(this.props.folderName,_),E={"breadcrumb-segment":!0,"breadcrumb-segment--is-drop-target":!m&&f,"breadcrumb-segment--file-dragged-over":!m&&this.state.isDraggedOver},b=h(g);return e=m?a.default.createElement("span",n.__assign({},this.eventHandlers),v):a.default.createElement("span",n.__assign({className:"breadcrumb-segment__wrapper"},this.eventHandlers),a.default.createElement(c.UserEducationEffect,{containerName:"BreadCrumbSegment",name:"link-"+u,useSpan:!0},a.default.createElement("a",{href:o(s).toString(),onClick:this.navigateToFolder,className:r.default(E)},v)),a.default.createElement(i.IconArrow,{name:b})),this.props.folderName!==v?a.default.createElement(p.TitleBubble,{content:this.props.folderName,position:p.TitleBubble.POSITIONS.BOTTOM,className:"list-label__title-bubble"},e):e},t.defaultProps={isOnlyCrumb:!1,isDraggingInternalFiles:!1,isHighlightedDropTarget:!1,disableDragging:!1},t})(a.default.Component),C=(function(e){function t(t){var n=e.call(this,t)||this;return n.onDragEnter=function(e){e.preventDefault(),e.target!==n.lastEnteredElement&&(n.props.disableDragging||(n.lastEnteredElement=e.target,n.dragEnterCount+=1,n.setState({isDraggedOver:!0}),n.props.setFileUploaderPath({path:n.props.path})))},n.onDragLeave=function(e){e.preventDefault(),n.props.disableDragging||(n.lastEnteredElement=null,n.dragEnterCount-=1,n.dragEnterCount<1&&(n.dragEnterCount=0,n.state.isDraggedOver&&(n.props.setFileUploaderPath({path:n.props.currentPath}),n.setState({isDraggedOver:!1}))))},n.onDrop=function(e){n.setState({isDraggedOver:!1}),n.dragEnterCount=0,n.props.closeFunc()},n.onDragOver=function(e){e.preventDefault(),e.stopPropagation()},n.handleMouseEnter=function(){n.props.isDraggingInternalFiles&&n.setState({isDraggedOver:!0})},n.handleMouseLeave=function(){n.state.isDraggedOver&&(n.setState({isDraggedOver:!1}),n.props.closeFunc())},n.handleMouseUp=function(){n.state.isDraggedOver&&n.setState({isDraggedOver:!1}),n.props.isDraggingInternalFiles&&!n.props.isLastCrumb&&n.props.closeFunc()},n.state={isDraggedOver:!1},n}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.dragEnterCount=0,this.lastEnteredElement=null},t.prototype.render=function(){var e=this.props,t=e.icon,i=e.alt,l=e.folderName,u={"breadcrumb-menu-item":!0,"breadcrumb-menu-item--is-drop-target":this.props.isHighlightedDropTarget,"breadcrumb-menu-item--file-dragged-over":this.state.isDraggedOver},d=a.default.createElement("span",{title:l,className:"breadcrumb-menu-item-wrapper"},a.default.createElement("span",{className:"breadcrumb-menu-item-icon"},a.default.createElement(o.IconContent,{name:t,"aria-label":i,role:"img"})),a.default.createElement("span",{className:"breadcrumb-menu-item-text"},l));return a.default.createElement(s.PopoverContentItem,n.__assign({value:this.props.path,className:r.default(u)},{onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onDragOver:this.onDragOver,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp}),d)},t.defaultProps={isHighlightedDropTarget:!1,closeFunc:function(){},alt:"",isDraggingInternalFiles:!1,disableDragging:!1},t})(a.default.Component),w=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={menuVisible:!1},t.onDragEnter=function(e){t.props.disableDragging||(e.preventDefault(),t.setState({menuVisible:!0}))},t.onInnerDragEnter=function(e){e.preventDefault(),t.dragEnterCount++},t.onDragLeave=function(e){e.preventDefault(),t.dragEnterCount--,t.dragEnterCount<1&&(t.dragEnterCount=0,t.state.menuVisible&&t.setState({menuVisible:!1}))},t.onMouseEnter=function(e){t.props.disableDragging||t.props.isDraggingInternalFiles&&!t.props.disableDragging&&(e.preventDefault(),t.setState({menuVisible:!0}))},t.onCrumbSelected=function(e){t.props.setUrl({path:e})},t.onPopoverToggle=function(e){var n=e.isOpen;t.setState({menuVisible:n})},t.onClose=function(){t.dragEnterCount=0,t.onPopoverToggle({isOpen:!1})},t}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.dragEnterCount=0},t.prototype.render=function(){var e=this,t=this.props.crumbs.slice().reverse(),n=this.props,r=n.currentPath,l=n.shouldHighlightDropTargets,u=n.isDraggingInternalFiles,c=n.setFileUploaderPath,_=n.size,m=n.disableDragging,p=d._("Show parent folders (descending)"),f=a.default.createElement(o.IconContent,{name:"folder_dropdown-small","aria-label":p,role:"img",className:"breadcrumb-menu-icon"}),g=h(_);return a.default.createElement(s.Popover,{onSelection:this.onCrumbSelected,onMenuToggle:this.onPopoverToggle,className:"breadcrumb-dropdown-container"},a.default.createElement(s.PopoverTrigger,{onDragOver:this.onDragEnter,onMouseEnter:this.onMouseEnter},a.default.createElement("span",{className:"u-unbutton breadcrumb-overflow-button u-l-fl"},f)),a.default.createElement(s.PopoverContent,{isRevealed:this.state.menuVisible,onDragEnter:this.onInnerDragEnter,onDragLeave:this.onDragLeave},t.map(function(t){return a.default.createElement(C,{key:encodeURI(t.path),path:t.path,icon:t.icon,alt:t.alt,folderName:t.folderName,currentPath:r,isHighlightedDropTarget:l,isDraggingInternalFiles:u,setFileUploaderPath:c,closeFunc:e.onClose,disableDragging:m})})),a.default.createElement(i.IconArrow,{name:g,className:"breadcrumb__spacer"}))},t.defaultProps={shouldHighlightDropTargets:!1,isDraggingInternalFiles:!1,disableDragging:!1},t})(a.default.Component)}),define("modules/clean/react/path_filter_button",["require","exports","tslib","react","spectrum/dropdown_button","modules/clean/react/title_bubble","modules/clean/em_string","modules/clean/filepath"],function(e,t,n,r,a,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r),s=n.__importStar(s),t.PathFilterButton=function(e){var t=e.path,n=e.defaultText,l=e.dropdownClasses,u=e.disabled,d=e.onClick,c=t&&!s.paths_are_equal(t,"/")?o.Emstring.em_snippet(s.filename(t),10,.6):null,_=r.default.createElement(a.DropdownButton,{className:l,disabled:u,onClick:d},c||n);return c?r.default.createElement(i.TitleBubble,{content:t,position:i.TitleBubble.POSITIONS.BOTTOM},_):_}}),define("modules/clean/sharing/member_avatars",["require","exports","tslib","react","modules/clean/avatar/avatar_with_default","modules/clean/avatar/initials_avatar","modules/clean/avatar/photo_avatar","modules/clean/avatar/shared_link_avatar","modules/clean/avatar/viewer_avatar","modules/clean/avatar/list","modules/clean/components/title_bubble","modules/clean/datetime","modules/clean/em_string","modules/clean/react/tooltip","modules/clean/sharing/constants","modules/clean/sharing/link_description","modules/clean/static_urls","modules/clean/viewer","modules/core/i18n"],function(e,t,n,r,a,i,o,s,l,u,d,c,_,m,p,f,g,v,h){"use strict";function E(e){var t=e.overflowCount,n=e.avatarArgs,a=void 0===n?{}:n,o=h.ungettext("%(count)s more member","%(count)s more members",t).format({count:t}),s=t>=99?"99+":""+t,l=C(a),u=l.avatarDimension,c=l.onAvatarClick,_=l.titleButtonDirection;return r.default.createElement(d.default,{key:"overflow_count",text:o,direction:_},r.default.createElement(i.InitialsAvatar,{alt:o,dimension:u,initials:s,color:"#7B8994",shape:"CIRCLE",onClick:c}))}function b(e){if(!e)return!1;var t=v.Viewer.get_viewer();if(t.is_paired){var n=t.get_user_ids(!0),r=e.map(function(e){return e.user_id});if(r.includes(n[0])&&r.includes(n[1]))return!0}return!1}function D(e,t,n){return function(r){e&&e(t,n),r.stopPropagation()}}function C(e){return n.__assign({},M,e)}function w(e){var t,o=e.arePairedUsersInSF,s=e.member,u=e.avatarArgs,c=void 0===u?{}:u,m=s.user_id,f=v.Viewer.get_viewer(),g=f.get_user_ids(!0).includes(m),h="";if(g&&o){var E=s.user_id,b=f.get_user_by_role("personal",!0),w=f.get_user_by_role("work",!0);b&&E===b.id?h="Personal":w&&E===w.id&&null!=f.team_name&&(h=f.team_name)}else h=s.display_name;h=_.Emstring.em_snippet(h,p.SNIPPET_SIZES.DISPLAY_NAME);var A=N(h,s.access_type,g,o),S=C(c),L=S.avatarDimension,O=S.onAvatarClick,I=S.titleButtonDirection,y=D(O,"member",s),T={alt:A,dimension:L,onPhotoClick:y,photoUrl:s.photo_url,defaultAvatar:r.default.createElement(i.InitialsAvatarWithColorDerivedFromName,{alt:A,dimension:L,name:s.display_name,initials:s.initials.toUpperCase(),shape:"CIRCLE",onClick:y})};return t=g?r.default.createElement(l.default,n.__assign({},T)):r.default.createElement(a.default,n.__assign({},T)),r.default.createElement(d.default,{key:"user:"+s.user_id+":"+s.photo_url,text:A,direction:I},t)}function A(e){var t,n,a=e.group,s=e.avatarArgs,l=void 0===s?{}:s,u=C(l),c=u.avatarDimension,_=u.onAvatarClick,m=u.titleButtonDirection,p=D(_,"group",a);return a.is_automatic?(n=I(a.name,a.access_type),t=r.default.createElement(o.PhotoAvatar,{alt:n,dimension:c,photoUrl:g.static_url("/static/images/icons/team_32-vflk8mBzO.png"),shape:"SQUARE",onClick:p})):(n=y(a.name,a.access_type,a.num_users),t=r.default.createElement(i.InitialsAvatarWithColorDerivedFromName,{alt:n,dimension:c,name:a.name,shape:"SQUARE",initials:O(a.name),onClick:p})),r.default.createElement(d.default,{key:"group:"+a.gid+":"+a.name,text:n,direction:m},t)}function S(e){var t=e.index,n=e.description,a=e.avatarArgs,i=void 0===a?{}:a,o=C(i),s=o.avatarDimension,l=o.onAvatarClick,u=o.titleButtonDirection;return r.default.createElement(d.default,{key:"placeholder:"+t,text:n,direction:u},r.default.createElement("button",{className:"u-unbutton c-avatar--m",onClick:l?l:void 0},r.default.createElement("img",{alt:n,src:g.static_url("/static/images/icons/no_member-vflE0FYQV.svg"),width:s,height:s})))}function L(e){var t=e.invited_member,n=e.avatarArgs,a=void 0===n?{}:n,o=C(a),s=o.avatarDimension,l=o.onAvatarClick,u=o.titleButtonDirection,c=D(l,"invited",t),_=N(t.email_or_fbname,"pending",!1);return r.default.createElement(d.default,{key:"invitation:"+t.invitation_id,text:_,direction:u},r.default.createElement(i.InitialsAvatar,{alt:_,dimension:s,color:"#aaa",initials:O(t.email_or_fbname),shape:"CIRCLE",onClick:c}))}function O(e){if(null==e||!(e.length>0))return"";var t=e.split(" "),n=t.map(function(e){return e.charAt(0).toLowerCase()});return n.length>2&&(n=n.splice(0,2)),n.join("")}function I(e,t){return("editor"===t?h._("%(team_group_name)s can edit"):h._("%(team_group_name)s can view")).format({team_group_name:_.Emstring.em_snippet(e,p.SNIPPET_SIZES.DISPLAY_NAME)})}function y(e,t,n){var r;return r="editor"===t?h.ungettext("%(num_users)s person in %(group_name)s can edit","%(num_users)s people in %(group_name)s can edit",n):h.ungettext("%(num_users)s person in %(group_name)s can view","%(num_users)s people in %(group_name)s can view",n),r.format({group_name:_.Emstring.em_snippet(e,p.SNIPPET_SIZES.DISPLAY_NAME),num_users:n})}function N(e,t,n,r){void 0===r&&(r=!1);var a,i={viewer:h._("You can view"),editor:h._("You can edit"),owner:h._("You’re the owner"),team:h._("You’re a member of this team folder"),default:h._("You")},o={viewer:h._("%(name)s can view"),editor:h._("%(name)s can edit"),owner:h._("%(name)s is the owner"),pending:h._("%(name)s hasn’t added this to their Dropbox yet"),team:h._("%(name)s is a member of this team folder"),default:h._("%(name)s"),"no access":h._("No access")},s={viewer:h._("You (%(name)s) can view"),editor:h._("You (%(name)s) can edit"),owner:h._("You (%(name)s) are the owner")};return a=n?r&&null!=e?s:i:o,a.hasOwnProperty(t)?a[t].format({name:_.Emstring.em_snippet(e,p.SNIPPET_SIZES.DISPLAY_NAME)}):""}function T(e,t,n,a,i){void 0===a&&(a=5);var o,s,l=e.length,u=t.length+n.length,d=function(e){return _.Emstring.em_snippet(e,17)};if(u>0){var c=P(t.map(function(e){return d(e.display_name)}).concat(n.map(function(e){return d(e.email_or_fbname)})),a);o=r.default.createElement(m.Tooltip,{key:"members_text",position:m.TooltipPosition.BOTTOM,tooltip_contents:c.join("\n"),tooltip_classname:i},h.ungettext("%(member_count)s member","%(member_count)s members",u).format({member_count:u}))}if(l>0){var c=P(e.map(function(e){return d(e.name)}),a);s=r.default.createElement(m.Tooltip,{key:"groups_text",position:m.TooltipPosition.BOTTOM,tooltip_contents:c.join("\n"),tooltip_classname:i},h.ungettext("%(group_count)s group","%(group_count)s groups",l).format({group_count:l}))}return o&&!s?o:s&&!o?s:s&&o?r.default.createElement("div",null,s,", ",o):void 0}function P(e,t){if(e.length>t){var n=e.slice(0,t-1),r=e.length-(t-1);return n.push(h.ungettext("and %(num)s more…","and %(num)s more…",r,{comment:"Number of additional members. Expected to be >= 2."}).format({num:r})),n}return e}Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r),a=n.__importDefault(a),s=n.__importDefault(s),l=n.__importDefault(l),u=n.__importDefault(u),d=n.__importDefault(d);t.MemberAvatarsMixin={getInitialState:function(){return{paired_users_in_sf:!1}},componentWillMount:function(){var e=b(this.props.joinedMembers);this.setState({paired_users_in_sf:e})},componentWillReceiveProps:function(e){var t=b(e.joinedMembers);this.setState({paired_users_in_sf:t})},findOwnerAndMeInJoinedMembers:function(e){for(var t=null,n=null,r=0,a=e;r<a.length;r++){var i=a[r];if("owner"===i.access_type&&(t=i),
i.user_id===this.props.user.id&&(n=i),t&&n)break}return[t,n]},addGroupsMembersInvitations:function(e,t,n,r,a){var i={avatarDimension:this.props.avatarDimension,onAvatarClick:this.props.onAvatarClick,titleButtonDirection:this.props.titleButtonDirection};null==a&&(a=[]);for(var o=0,s=t;o<s.length;o++){var l=s[o];e.push(A({group:l,avatarArgs:i}))}for(var u=0,d=n;u<d.length;u++){var c=d[u];a.includes(c.user_id)||e.push(w({arePairedUsersInSF:this.state.paired_users_in_sf,member:c,avatarArgs:i}))}for(var _=0,m=r;_<m.length;_++){var p=m[_];e.push(L({invited_member:p,avatarArgs:i}))}},renderAvatarList:function(e,t){return r.default.createElement(u.default,{avatars:e,avatarDimension:this.props.avatarDimension,maxVisible:this.props.maxVisibleAvatars,undisplayableCount:this.props.numUndisplayableUsersAndInvites||0,onOverflowCountClick:this.props.onOverflowCountClick,overflowCountRenderer:E,animation:this.props.animation,className:t||""})},renderSharedLink:function(e,t){var n,a,i=this,o=this.getDescriptionForSharedLinkInfo(e,t),l=r.default.createElement(s.default,{alt:o,dimension:this.props.avatarDimension,onClick:function(t){i.props.onSharedLinkClick(e),t.stopPropagation()}});return(null!=e?e.allow_download:void 0)===!1?(n="sharing-icon-bubble-title u-font-center",a=!0):(n="",a=!1),r.default.createElement(d.default,{key:"shared_link",text:o,direction:"south",className:n,respectLineBreaks:a},l)},getDescriptionForSharedLinkInfo:function(e,t){var n;if(t)return f.formatSharedContentLinkDescription(t);var r=e.visibility_type,a=e.expires_posix,i=e.shared_folder_link_policy,o="";if(a){var s=(new Date).getTime()/1e3,l=a-s,u=Math.floor(l/86400);if(l<0)return h._("Link Disabled");n=new Date(1e3*a);var d=u>180;n=c.nice_date_with_month_name(n,d,!1,!0)}e.allow_download===!1&&(o=". "+h._("Downloads disabled.",{comment:'This follows a description of link visibility. For example: "Anyone with the link can view this file. Downloads disabled."'}));var _="MEMBERS_ONLY"===i;if(n){if(_)return h._("Folder members with the link can view until %(date)s").format({date:n})+o;if(r===p.SHMODEL_LINK_TOKEN_VISIBILITY.PUBLIC)return h._("People with the link can view until %(date)s").format({date:n})+o;if(r===p.SHMODEL_LINK_TOKEN_VISIBILITY.PASSWORD)return h._("People with the password can view until %(date)s").format({date:n})+o;if(r===p.SHMODEL_LINK_TOKEN_VISIBILITY.TEAM_ONLY)return h._("People at %(team_name)s can view until %(date)s").format({team_name:v.Viewer.get_viewer().team_name,date:n})+o;if(r===p.SHMODEL_LINK_TOKEN_VISIBILITY.ONLY_YOU)return h._("Only you can view until %(date)s").format({date:n})+o}else{if(_)return h._("Folder members with the link can view")+o;if(r===p.SHMODEL_LINK_TOKEN_VISIBILITY.PUBLIC)return h._("People with the link can view")+o;if(r===p.SHMODEL_LINK_TOKEN_VISIBILITY.PASSWORD)return h._("People with the password can view")+o;if(r===p.SHMODEL_LINK_TOKEN_VISIBILITY.TEAM_ONLY)return h._("People at %(team_name)s with the link can view").format({team_name:v.Viewer.get_viewer().team_name})+o;if(r===p.SHMODEL_LINK_TOKEN_VISIBILITY.ONLY_YOU)return h._("Only you can view")+o}throw Error("Unable to construct description!")}},t.renderOverflowCount=E;var M={avatarDimension:32,onAvatarClick:null,titleButtonDirection:"south"};t.renderJoinedMember=w,t.renderGroup=A,t.renderPlaceholderAvatar=S,t.renderInvitedPerson=L,t.buildGroupsAndMembersText=T});
//# sourceMappingURL=pkg-browse-uncommon.min.js-vflJ0uOiQ.map