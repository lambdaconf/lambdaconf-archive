define(["require","exports","tslib","jquery","modules/core/i18n"],function(r,t,e,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=e.__importDefault(i);var s=(function(){function r(r){if(this.constructor._show_hi_res()){var t=r.attr("data-hi-res-no-resize");this.constructor.set_src(r,r.attr("data-hi-res"),t),this.constructor.set_bg(r,r.attr("data-hi-res-background"),t)}}return r.set_src=function(r,t,e){if(this._show_hi_res())return t&&t!==r.attr("src")?this._replace(r,t,!e,this._replace_img):void 0},r.set_bg=function(r,t,e){if(this._show_hi_res())return this._replace(r,t,!e,this._replace_background)},r._show_hi_res=function(){return"devicePixelRatio"in window&&window.devicePixelRatio>1},r._replace=function(r,t,e,s){if(t){var n=new Image;return n.src=t,i.default(n).on("load",function(){return s(r,t,e,n.width,n.height)})}},r._replace_img=function(r,t,e,i,s){if(r.attr("src",t),e)return r.width(i/2),r.height(s/2)},r._replace_background=function(r,t,e,i,s){var n="url('%(src)s')".format({src:t});if(r.css("backgroundImage",n),e)return r.css("backgroundSize",i/2+"px "+s/2+"px")},r})();t.default=s});
//# sourceMappingURL=hi_res.min.js-vflak9mMy.map