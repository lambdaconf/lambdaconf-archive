define(["require","exports","tslib","react","spectrum/modal","modules/clean/previews/actions","modules/clean/react/file_viewer/logging","modules/clean/react/file_viewer/constants","modules/clean/react/previews/pdf_viewer/event_emitter","modules/clean/react/previews/pdf_viewer/printable","modules/core/exception","modules/core/i18n"],function(t,e,i,n,r,o,s,a,l,p,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n=i.__importDefault(n),c=i.__importStar(c);var d=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={isAttempting:!1,context:void 0},e.onPrint=function(t){var i=t.context,n=e.props.printProps,r=n.canPrint,s=n.isSharedLink,a=n.fileBlockServerUrl,l=n.fileHref;if(r){o.nativePrint(s,a,l,i)||(c.reportException({err:new Error("pdf native print failed"),tags:["pdfPreviews"],severity:c.SEVERITY.NONCRITICAL}),e.setState({isAttempting:!0,context:i}))}},e.dismiss=function(){e.setState({isAttempting:!1})},e.webPrint=function(){p.print(e.props.metadata,e.props.urls),e.setState({isAttempting:!1}),s.logUserAction(a.UserAction.Print,e.state.context)},e}return i.__extends(e,t),e.prototype.componentDidMount=function(){l.eventEmitter.on("print",this.onPrint)},e.prototype.componentWillUnmount=function(){l.eventEmitter.off("print",this.onPrint)},e.prototype.render=function(){return this.state.isAttempting?n.default.createElement(r.UtilityModal,{primaryAction:u._("Dismiss"),secondaryAction:u._("Print Anyway"),title:u._("Low Quality Printing"),ariaLabel:"print",open:!0,onPrimaryAction:this.dismiss,onSecondaryAction:this.webPrint,overlayClassName:"file-viewer-modal-overlay"},u._("Printing in this browser may result in lower quality. For higher quality printing, download the file to print.")):null},e})(n.default.PureComponent);e.PrintModal=d});
//# sourceMappingURL=print_modal.min.js-vflSoJLEa.map